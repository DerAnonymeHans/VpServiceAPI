var me=Object.defineProperty;var U=Object.getOwnPropertySymbols;var ge=Object.prototype.hasOwnProperty,ve=Object.prototype.propertyIsEnumerable;var W=(n,e,t)=>e in n?me(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,G=(n,e)=>{for(var t in e||(e={}))ge.call(e,t)&&W(n,t,e[t]);if(U)for(var t of U(e))ve.call(e,t)&&W(n,t,e[t]);return n};import{S as pe,K as Q,a as ke,I as M}from"./KeyLabelPair.ca6819e9.js";import{o,c as l,d as I,i as we,n as S,_ as R,b as a,v as _e,z as ye,F as w,g as _,t as g,u as D,a as A,p as Z,e as ee,l as ne,f as T,j as F}from"./index.8e60bec0.js";class k{constructor(e,t,r,d,u,b,p,v){this.name=e,this.field=t,this.specificField=r,this.canBeDeselectedBy=d,this.writeExamPossible=u,this.oralExamPossible=b,this.canBeLeistungskurs=p,this.examMandatory=v}}class E{constructor(e,t){this.name=e,this.duplicate=t}}const m=Object.freeze({science:"NaWi",language_literature_art:"Sprache-Kunst",society:"GeWi"}),f=Object.freeze({language:"Sprache",art_music:"Kunst-Musik",german_math:"Deutsch-Mathe",society:"GeWi",science:"NaWi",informatics:"Informatik",ethics_religion:"Etihk-Religion",sports:"Sport",astro_philo:"Astro-Philo"}),xe=new k("Mathe",m.science,f.german_math,[],!0,!0,!0,!0),Oe=new k("Deutsch",m.language_literature_art,f.german_math,[],!0,!0,!0,!0),Se=new k("Englisch",m.language_literature_art,f.language,[],!0,!0,!0),Ee=new k("Franz\xF6sisch",m.language_literature_art,f.language,[],!1,!0),Ie=new k("Russisch",m.language_literature_art,f.language,[],!1,!0),Ae=new k("Latein",m.language_literature_art,f.language,[],!1,!0),$e=new k("Kunst",m.language_literature_art,f.art_music,[],!1,!0),Le=new k("Musik",m.language_literature_art,f.art_music,[],!1,!0),Ne=new k("Geschichte",m.society,f.art_music,[],!0,!0,!0),je=new k("GRW",m.society,f.society,[],!0,!0),Ge=new k("Geographie",m.society,f.society,[],!0,!0),Pe=new k("Physik",m.science,f.science,[],!0,!0,!0),De=new k("Chemie",m.science,f.science,[],!0,!0,!0),Ce=new k("Biologie",m.science,f.science,[],!0,!0,!0),Te=new k("Informatik",m.science,f.informatics,[],!1,!0),Ye=new k("Religion",m.other,f.ethics_religion,[],!1,!0),He=new k("Ethik",m.other,f.ethics_religion,[],!1,!0),Ke=new k("Sport",m.other,f.sports,[],!1,!1),Me=new k("Astronomie",m.other,f.astro_philo,[],!1,!1),Fe=new k("Philosophie",m.other,f.astro_philo,[],!1,!1),c={ALL:[xe,Oe,Se,Ee,Ae,Ie,$e,Le,Ne,je,Ge,Pe,De,Ce,Te,Ye,He,Ke,Me,Fe],sciences:[],languages:[],secondLanguages:[],society:[],possibleLeistungskurse:[],possibleLeistungskurse2:[],writeExamPossible:[],oralExamPossible:[],getSubject(n){return c.ALL.find(e=>e.name===n)}};c.sciences=c.ALL.filter(n=>n.specificField===f.science);c.languages=c.ALL.filter(n=>n.specificField===f.language);c.secondLanguages=c.languages.filter(n=>n.name!=="Englisch");c.society=c.ALL.filter(n=>n.field===m.society);c.possibleLeistungskurse=c.ALL.filter(n=>n.canBeLeistungskurs);c.possibleLeistungskurse2=c.ALL.filter(n=>n.canBeLeistungskurs&&n.name!=="Deutsch"&&n.name!=="Mathe");c.writeExamPossible=c.ALL.filter(n=>n.writeExamPossible);c.oralExamPossible=c.ALL.filter(n=>n.oralExamPossible);const te={lk1:"Mathe",lk2:"",gk1:"Deutsch",lang1:"",lang2:"",nawi1:"",nawi2:"",nawi3:"",art_music:"",reli_ethic:"",gewi1:"",gewi2:"",history:"Geschichte",sports:"Sport"};function B(){return G({},te)}const Re={points:null,einbringen:""};function C(){return G({},Re)}function Be(){const n={};for(const e in te)n[e]={name:"",exam:null,examPoints:null,years:{1:C(),2:C(),3:C(),4:C()}};return n}const ze={p1:"",p2:"",p3:"",p4:"",p5:""};function re(){return G({},ze)}const qe={props:{verified:{type:Boolean,required:!0}}},ae=Object.assign(qe,{__name:"VerifiedIcon",setup(n){return(e,t)=>(o(),l("div",{class:S(["verified-icon",n.verified?"verified":"warning"])},[I(we,{name:n.verified?"verified":"warning"},null,8,["name"])],2))}});const O=n=>(Z("data-v-987b3246"),n=n(),ee(),n),Je=O(()=>a("h4",null,"Leistungskurse",-1)),Ve={class:"selectors"},Ue={class:"label-select-container"},We=O(()=>a("div",{class:"label"},"Leistungskurs 1",-1)),Qe=["value"],Xe=O(()=>a("option",{value:"Deutsch"},"Deutsch",-1)),Ze=O(()=>a("option",{value:"Mathe"},"Mathe",-1)),en=[Xe,Ze],nn={class:"label-select-container"},tn=O(()=>a("div",{class:"label"},"Leistungskurs 2",-1)),rn=["value"],an={class:"label-select-container"},sn=O(()=>a("div",{class:"label"},"Grundkurs (Je nach LK1)",-1)),on=O(()=>a("h4",null,"Naturwissenschaften und Sprachen",-1)),ln={class:"center"},cn={class:"selectors"},un={class:"label"},dn=["value","onChange"],hn=["value"],fn={class:"label"},bn=["value","onChange"],mn=["value"],gn=O(()=>a("h4",null,"Gesellschaftswissenschaften",-1)),vn={class:"selectors"},pn={key:0,class:"label-select-container"},kn=O(()=>a("div",{class:"label"},"Gewi 1",-1)),wn=O(()=>a("div",null,"Geschichte",-1)),_n=[kn,wn],yn={class:"label"},xn=["value","onChange"],On=["value"],Sn=O(()=>a("h4",null,"Andere",-1)),En={class:"selectors"},In={class:"label-select-container"},An=O(()=>a("div",{class:"label"},"Musik oder Kunst",-1)),$n=["value"],Ln=["value"],Nn={class:"label-select-container"},jn=O(()=>a("div",{class:"label"},"Ethik oder Religion",-1)),Gn=["value"],Pn=["value"],Dn=O(()=>a("div",{class:"label-select-container"},[a("div",{class:"label"},"Sport"),a("div",null,"Sport")],-1)),Cn={inject:["mq"],data(){return{kurswahl:B(),nawiLangOptions:[new Q("3-nawi","3 Nawi, 1 Sprache"),new Q("2-nawi","2 Nawi, 2 Sprachen")],nawiLangOption:"3-nawi",numberOfGkNawi:3,numberOfGkLangs:1,lk2:[],nawi:[],langs:[],gewi:[],art_music:[],reli_ethic:[],isHistoryGk:!0,correctness:!1}},mounted(){this.load(),this.calculateAll(!1)},methods:{calculateAll(n=!0){this.getAllGroups(),this.getNumberOfGkNawiAndLangs(),this.checkCorrectNess(),this.correctness&&n&&this.save()},setAndRemoveDuplicate(n,e){for(const t of Object.entries(this.kurswahl))t[1]===e&&t[0]!==n&&(this.kurswahl[t[0]]="");this.kurswahl[n]=e,this.calculateAll()},isDuplicate(n){for(const e of Object.entries(this.kurswahl))if(e[1]===n)return!0;return!1},getAllGroups(){this.lk2=c.possibleLeistungskurse2.map(n=>new E(n.name,this.isDuplicate(n.name))),this.nawi=[...c.sciences,c.getSubject("Informatik")].map(n=>new E(n.name,this.isDuplicate(n.name))),this.langs=c.languages.map(n=>new E(n.name,this.isDuplicate(n.name))),this.gewi=[...c.society.filter(n=>n.name!=="Geschichte"),c.getSubject("Astronomie"),c.getSubject("Philosophie"),c.getSubject("Informatik")].map(n=>new E(n.name,this.isDuplicate(n.name))),this.art_music=[c.getSubject("Musik"),c.getSubject("Kunst")].map(n=>new E(n.name,this.isDuplicate(n.name))),this.reli_ethic=[c.getSubject("Ethik"),c.getSubject("Religion")].map(n=>new E(n.name,this.isDuplicate(n.name))),this.isHistoryGk=this.kurswahl.lk2!=="Geschichte",this.isHistoryGk?this.kurswahl.history="Geschichte":this.kurswahl.history=""},selectLk1(n){this.kurswahl.lk1=n,this.kurswahl.gk1=this.kurswahl.lk1==="Mathe"?"Deutsch":"Mathe"},changeNawiLangOption(n){this.nawiLangOption=n,n==="3-nawi"&&(this.kurswahl.lang2=""),n==="2-nawi"&&(this.kurswahl.nawi3=""),this.calculateAll()},getNumberOfGkNawiAndLangs(){var t,r;const n=(this.nawiLangOption==="3-nawi"?3:2)-(((t=c.getSubject(this.kurswahl.lk2))==null?void 0:t.field)===m.science?1:0);n<this.numberOfGkNawi&&(this.kurswahl.nawi3=""),this.numberOfGkNawi=n;const e=(this.nawiLangOption==="3-nawi"?1:2)-(((r=c.getSubject(this.kurswahl.lk2))==null?void 0:r.specificField)===f.language?1:0);e<this.numberOfGkLangs&&(this.kurswahl.lang2=""),this.numberOfGkLangs=e},checkCorrectNess(){this.correctness=(()=>!(this.kurswahl.lk1.length===0||this.kurswahl.lk2.length===0||this.numberOfGkNawi===1&&this.kurswahl.nawi1.length===0||this.numberOfGkNawi===2&&(this.kurswahl.nawi1.length===0||this.kurswahl.nawi2.length===0)||this.numberOfGkNawi===3&&(this.kurswahl.nawi1.length===0||this.kurswahl.nawi2.length===0||this.kurswahl.nawi3.length===0)||this.numberOfGkLangs===1&&this.kurswahl.lang1.length===0||this.numberOfGkLangs===2&&(this.kurswahl.lang1.length===0||this.kurswahl.lang2.length===0)||this.kurswahl.art_music.length===0||this.kurswahl.reli_ethic.length===0||this.kurswahl.gewi1.length===0||this.kurswahl.gewi2.length===0))()},save(){const n=G({},this.kurswahl);for(const e in n)n[e].length>0||delete n[e];localStorage.setItem("kurswahl",JSON.stringify(n)),localStorage.setItem("abif\xE4cher",void 0),localStorage.setItem("einbringen",void 0)},load(){try{const n=JSON.parse(localStorage.getItem("kurswahl"));if(n===void 0)return;for(const e in n)this.kurswahl[e]=n[e]}catch{}}}},Tn=Object.assign(Cn,{__name:"Kurswahl",setup(n){return(e,t)=>(o(),l("div",{class:S([e.mq.current,"container"])},[a("section",null,[Je,a("div",Ve,[a("div",Ue,[We,a("select",{class:"select",name:"leistungskurs-1",value:e.kurswahl.lk1,onChange:t[0]||(t[0]=r=>e.selectLk1(r.target.value))},en,40,Qe)]),a("div",nn,[tn,_e(a("select",{class:"select",name:"leistungskurs-2","onUpdate:modelValue":t[1]||(t[1]=r=>e.kurswahl.lk2=r),onChange:t[2]||(t[2]=r=>e.setAndRemoveDuplicate("lk2",r.target.value))},[(o(!0),l(w,null,_(e.lk2,r=>(o(),l("option",{key:r.name,value:r.name,class:S({duplicate:r.duplicate})},g(r.name),11,rn))),128))],544),[[ye,e.kurswahl.lk2]])]),a("div",an,[sn,a("div",null,g(e.kurswahl.gk1),1)])])]),a("section",null,[on,a("div",ln,[I(pe,{options:e.nawiLangOptions,default:e.nawiLangOption,onSwitch:e.changeNawiLangOption,invert:!0},null,8,["options","default","onSwitch"])]),a("div",cn,[(o(!0),l(w,null,_(e.numberOfGkNawi,r=>{var d;return o(),l("div",{class:"label-select-container",key:r},[a("div",un,"Naturwissenschaft "+g(r+(((d=D(c).getSubject(e.kurswahl.lk2))==null?void 0:d.field)===D(m).science?1:0)),1),a("select",{class:"select",name:"naturwissenschaften-1",value:e.kurswahl[`nawi${r}`],onChange:u=>e.setAndRemoveDuplicate(`nawi${r}`,u.target.value)},[(o(!0),l(w,null,_(e.nawi,u=>(o(),l("option",{key:u.name,value:u.name,class:S({duplicate:u.duplicate})},g(u.name),11,hn))),128))],40,dn)])}),128)),(o(!0),l(w,null,_(e.numberOfGkLangs,r=>{var d;return o(),l("div",{class:"label-select-container",key:r},[a("div",fn,"Sprache "+g(r+(((d=D(c).getSubject(e.kurswahl.lk2))==null?void 0:d.specificField)===D(f).language?1:0)),1),a("select",{class:"select",name:"sprachen-1",value:e.kurswahl[`lang${r}`],onChange:u=>e.setAndRemoveDuplicate(`lang${r}`,u.target.value)},[(o(!0),l(w,null,_(e.langs,u=>(o(),l("option",{key:u.name,value:u.name,class:S({duplicate:u.duplicate})},g(u.name),11,mn))),128))],40,bn)])}),128))])]),a("section",null,[gn,a("div",vn,[e.isHistoryGk?(o(),l("div",pn,_n)):A("",!0),(o(),l(w,null,_(2,r=>a("div",{class:"label-select-container",key:r},[a("div",yn,"Gewi "+g(r+(e.isHistoryGk?1:0)),1),a("select",{class:"select",name:"gesellschaftswissenschaft-1",value:e.kurswahl[`gewi${r}`],onChange:d=>e.setAndRemoveDuplicate(`gewi${r}`,d.target.value)},[(o(!0),l(w,null,_(e.gewi,d=>(o(),l("option",{key:d.name,value:d.name,class:S({duplicate:d.duplicate})},g(d.name),11,On))),128))],40,xn)])),64))])]),a("section",null,[Sn,a("div",En,[a("div",In,[An,a("select",{class:"select",name:"musik-kunst-1",value:e.kurswahl.art_music,onChange:t[3]||(t[3]=r=>e.setAndRemoveDuplicate("art_music",r.target.value))},[(o(!0),l(w,null,_(e.art_music,r=>(o(),l("option",{key:r.name,value:r.name,class:S({duplicate:r.duplicate})},g(r.name),11,Ln))),128))],40,$n)]),a("div",Nn,[jn,a("select",{class:"select",name:"ethik-religion-1",value:e.kurswahl.reli_ethic,onChange:t[4]||(t[4]=r=>e.setAndRemoveDuplicate("reli_ethic",r.target.value))},[(o(!0),l(w,null,_(e.reli_ethic,r=>(o(),l("option",{key:r.name,value:r.name,class:S({duplicate:r.duplicate})},g(r.name),11,Pn))),128))],40,Gn)]),Dn])]),I(ae,{verified:e.correctness},null,8,["verified"])],2))}});var Yn=R(Tn,[["__scopeId","data-v-987b3246"]]);const Hn=a("h4",null,"Schriftliche Pr\xFCfungen",-1),Kn={class:"selectors"},Mn={class:"label-select-container"},Fn=a("div",{class:"label"},"P1",-1),Rn={class:"label-select-container"},Bn=a("div",{class:"label"},"P2",-1),zn={class:"label-select-container"},qn=a("div",{class:"label"},"P3",-1),Jn=["value"],Vn=["value"],Un=a("h4",null,"M\xFCndliche Pr\xFCfungen",-1),Wn={class:"selectors"},Qn={class:"label-select-container"},Xn=a("div",{class:"label"},"P4",-1),Zn=["value"],et=["value"],nt={class:"label-select-container"},tt=a("div",{class:"label"},"P5",-1),rt=["value"],at=["value"],it={data(){return{kurswahl:B(),exams:re(),p3s:[],p4s:[],p5s:[],correctness:!1,showModal:!1,modalTitle:"",modalContent:""}},mounted(){this.load(),this.calculateAll()},methods:{calculateAll(){this.getAllGroups(),this.removeWrongExams(),this.checkCorrectness(),this.correctness&&this.save()},setAndRemoveDuplicate(n,e){for(const t of Object.entries(this.exams))t[1]===e&&t[0]!==n&&(this.exams[t[0]]="");this.exams[n]=e,this.calculateAll()},isDuplicate(n){return Object.values(this.exams).includes(n)},getAllGroups(){const n=Object.entries(this.kurswahl).filter(t=>!t[0].startsWith("lk")),e=t=>n.findIndex(r=>r[1]===t.name)!==-1;this.p3s=c.writeExamPossible.filter(e).map(t=>new E(t.name,this.isDuplicate(t.name))),this.p4s=(()=>this.exams.p3!==this.kurswahl.gk1?[new E(this.kurswahl.gk1,!1)]:c.oralExamPossible.filter(e))().map(t=>new E(t.name,this.isDuplicate(t.name))),this.p5s=(()=>{let t=c.oralExamPossible.filter(u=>e(u)&&u.name!==this.kurswahl.gk1);const r=(()=>{const u=Object.values(m);for(const b of Object.values(this.exams).slice(0,4)){const p=c.getSubject(b);p!==void 0&&u.includes(p.field)&&u.splice(u.indexOf(p.field),1)}return u})(),d=!Object.values(this.exams).some(u=>{const b=c.getSubject(u);return b?(b.specificField===f.language||b.specificField===f.science)&&b.name!=="Deutsch":!1});return r.length>0&&(t=t.filter(u=>r.includes(u.field))),d&&(t=t.filter(u=>u.specificField===f.language||u.specificField===f.science)),t})().map(t=>new E(t.name,this.isDuplicate(t.name)))},removeWrongExams(){for(let n=3;n<=5;n++)!this[`p${n}s`].find(e=>e.name===this.exams[`p${n}`])&&this.exams[`p${n}`].length>0&&(this.exams[`p${n}`]="")},checkCorrectness(){this.correctness=Object.values(this.exams).every(n=>n.length!==0)},save(){localStorage.setItem("abif\xE4cher",JSON.stringify(this.exams))},load(){try{const n=JSON.parse(localStorage.getItem("kurswahl"));if(n==null)throw new Error("Keine Kurswahl");for(const e in n)this.kurswahl[e]=n[e];this.exams.p1=this.kurswahl.lk1,this.exams.p2=this.kurswahl.lk2}catch{this.modalTitle="Fehlende Kurswahl",this.modalContent="Bitte gib zuerst deine Kurse an, bevor du deine Abif\xE4cher w\xE4hlen kannst.",this.showModal=!0}try{const n=JSON.parse(localStorage.getItem("abif\xE4cher"));if(n===void 0)return;for(const e in n)this.exams[e]=n[e]}catch{}}}},st=Object.assign(it,{__name:"Abif\xE4cher",setup(n){return(e,t)=>(o(),l("div",null,[a("section",null,[Hn,a("div",Kn,[a("div",Mn,[Fn,a("div",null,g(e.exams.p1),1)]),a("div",Rn,[Bn,a("div",null,g(e.exams.p2),1)]),a("div",zn,[qn,a("select",{class:"select",name:"p3-1",value:e.exams.p3,onChange:t[0]||(t[0]=r=>e.setAndRemoveDuplicate("p3",r.target.value))},[(o(!0),l(w,null,_(e.p3s,r=>(o(),l("option",{key:r.name,value:r.name,class:S({duplicate:r.duplicate})},g(r.name),11,Vn))),128))],40,Jn)])])]),a("section",null,[Un,a("div",Wn,[a("div",Qn,[Xn,a("select",{class:"select",name:"p4",value:e.exams.p4,onChange:t[1]||(t[1]=r=>e.setAndRemoveDuplicate("p4",r.target.value))},[(o(!0),l(w,null,_(e.p4s,r=>(o(),l("option",{key:r.name,value:r.name,class:S({duplicate:r.duplicate})},g(r.name),11,et))),128))],40,Zn)]),a("div",nt,[tt,a("select",{class:"select",name:"p5",value:e.exams.p5,onChange:t[2]||(t[2]=r=>e.setAndRemoveDuplicate("p5",r.target.value))},[(o(!0),l(w,null,_(e.p5s,r=>(o(),l("option",{key:r.name,value:r.name,class:S({duplicate:r.duplicate})},g(r.name),11,at))),128))],40,rt)])])]),I(ne,{isOpen:e.showModal,onClose:t[3]||(t[3]=r=>e.showModal=!e.showModal),title:e.modalTitle,content:e.modalContent,buttons:[]},null,8,["isOpen","title","content"]),I(ae,{verified:e.correctness},null,8,["verified"])]))}});var ie={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.emulateTab=void 0;var e=new Array("offsetHeight","scrollHeight","clientHeight"),t=!0,r=/text|password|search|tel|url/;function d(){var i=v()||document.body,s=j(i);return b(i,s)}n.emulateTab=d,function(i){i.from=u,i.to=function(s,h){return h===void 0&&(h=!1),u(v()).to(s,h)},i.backwards=function(){return i.to($(v()),t)},i.forwards=function(){return i()},i.findSelectableElements=Y}(d=n.emulateTab||(n.emulateTab={}));function u(i){return i===void 0&&(i=document.body),{toPreviousElement:function(){return b(i,$(),t)},toNextElement:function(){return b(i,j(i))},to:function(s,h){return h===void 0&&(h=!1),b(i,s,h)}}}function b(i,s,h){h===void 0&&(h=!1);var y=i.dispatchEvent(p("keydown",h));if(y){if(i.blur(),s.focus(),document.activeElement!==s)try{document.activeElement=s}catch{console.warn("could not switch active element")}s instanceof HTMLInputElement&&r.test(s.type)&&(s.selectionStart=0);var x=p("keyup",h);return s.dispatchEvent(x),!0}else return i.dispatchEvent(p("keypress",h)),i.dispatchEvent(p("keyup",h)),!1}function p(i,s){return s===void 0&&(s=!1),new KeyboardEvent(i,{code:"Tab",key:"Tab",cancelable:!0,bubbles:!0,shiftKey:s})}function v(){var i=document.activeElement;return i instanceof HTMLElement?i:void 0}function $(i){i===void 0&&(i=document.body);var s=Y();if(s.length<1)throw new Error("no selectable elements found");var h=s.indexOf(i),y=(h>0?h:s.length)-1,x=s[y];return x}function j(i){i===void 0&&(i=document.body);var s=Y();if(s.length<1)throw new Error("no selectable elements found");var h=s.indexOf(i),y=h+1<s.length?h+1:0,x=s[y];return x}function Y(){var i=Array.from(document.querySelectorAll("*")).filter(se);z();var s=i.filter(le(ce,H,ue,de,he)).reduce(function(y,x){var L=x.tabIndex,P=y[""+L]||{tabIndex:L,elements:[]};return P.elements.push(x),y[L]=P,y},{}),h=Object.values(s).sort(fe).reduce(function(y,x){return y.concat(x.elements)},new Array);return h}var se=function(i){return i instanceof HTMLElement},H,z=function(){var i=q();i?H=oe(i):H=J,z=function(){}},oe=function(i){return function(s){var h=s[i];return!!h&&typeof h=="number"&&h>0}};function q(i){i===void 0&&(i=document.body);var s=i,h=e.find(function(be){var K=s[be];return K&&typeof K=="number"&&K>0});if(h)return h;for(var y=i.children,x=0,L=Array.from(y);x<L.length;x++){var P=L[x],V=q(P);if(V)return V}}var J=function(i){if(!i.isConnected)return!1;if(i.tagName==="BODY")return!0;var s=getComputedStyle(i);if(s.display==="none"||s.visibility==="collapse")return!1;var h=i.parentElement;return h?J(h):!1};function le(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];return function(h){return!i.some(function(y){return!y(h)})}}function ce(i){return typeof i.tabIndex=="number"&&i.tabIndex>=0}var ue=function(i){return!i.disabled};function de(i){return!(i instanceof HTMLAnchorElement)||!!i.href||i.getAttribute("tabIndex")!==null}var he=function(i){return getComputedStyle(i).visibility!=="collapse"};function fe(i,s){if(i.tabIndex>0&&s.tabIndex>0)return i.tabIndex-s.tabIndex;if(i.tabIndex>0)return-i.tabIndex;if(s.tabIndex>0)return s.tabIndex;throw new Error("same tab index for two groups")}})(ie);const ot={class:"kurs-row"},lt={class:"name"},ct={class:"points"},ut=["value","onKeydown","disabled"],dt=["value","disabled"],ht={props:{kurs:{type:Object,required:!0},numberOfEndedYears:{type:Number,required:!0}},mounted(){},methods:{onKeyDown(n,e){try{if(e.key==="Tab")return;e.preventDefault();let t;if(e.key!=="Delete"&&e.key!=="Backspace"&&(t=parseInt(e.target.value+e.key),t>15||t<0||Number.isNaN(t)))return;n===5?this.kurs.examPoints=t:this.kurs.years[n].points=t,t>1&&ie.emulateTab()}catch{}}}},X=Object.assign(ht,{__name:"Kurs",setup(n){return(e,t)=>(o(),l("div",ot,[a("div",lt,g(n.kurs.name),1),a("div",ct,[(o(),l(w,null,_(4,r=>a("input",{type:"number",class:S(["input",n.kurs.years[r].einbringen]),min:"0",max:"15",key:r,value:n.kurs.years[r].points,onKeydown:d=>e.onKeyDown(r,d),disabled:r>n.numberOfEndedYears},null,42,ut)),64)),n.kurs.exam!==null?(o(),l("input",{key:0,type:"number",class:"input",min:"0",max:"15",value:n.kurs.examPoints,onKeydown:t[0]||(t[0]=r=>e.onKeyDown(5,r)),disabled:n.numberOfEndedYears<5},null,40,dt)):A("",!0)])]))}});const N=n=>(Z("data-v-2be8a802"),n=n(),ee(),n),ft={class:"messages"},bt={class:"number-of-ended-years center"},mt=N(()=>a("span",null,"Beendete Halbjahre:",-1)),gt=["value"],vt=["value"],pt=N(()=>a("option",{value:5},"4 + Pr\xFCfung",-1)),kt=N(()=>a("h4",null,"Pr\xFCfungsf\xE4cher",-1)),wt=T(" In diesen F\xE4chern m\xFCssen alle Halbjahre eingebracht werden. Die Punkte der Leistungskurse z\xE4hlen doppelt."),_t=N(()=>a("br",null,null,-1)),yt={key:0},xt=N(()=>a("h4",null,"Andere Grundkurse",-1)),Ot=N(()=>a("div",{class:"legend"},[a("p",null,[a("span",{class:"square lila"}),T("Pflichteinbringungen")]),a("p",null,[a("span",{class:"square pink"}),T("Mindestens 1")]),a("p",null,[a("span",{class:"square green"}),T("Auff\xFCllen")])],-1)),St=N(()=>a("h4",null,"Schnitt berechnen",-1)),Et={key:0},It={class:"center"},At={key:1,class:"schnitt"},$t={class:"flex-n-margin center"},Lt={class:"schnitt"},Nt={data(){return{kurswahl:B(),exams:re(),einbringen:Be(),messages:[],numberOfEndedYears:1,schnitt:{block1:0,block2:0,note:null,punkte:null},showModal:!1,modalTitle:"",modalContent:""}},computed:{examKurse:function(){const n=[];for(const e in this.einbringen)this.einbringen[e].exam!==null&&n.push(this.einbringen[e]);return n.sort((e,t)=>e-t),n},nonExamKurse:function(){const n=[];for(const e in this.einbringen)this.einbringen[e].exam===null&&n.push(this.einbringen[e]);return n}},mounted(){this.load()},methods:{calculateAbischnitt(){try{this.checkAndFillInputs(),this.makePflichtEinbringungen(),this.makeAuff\u00FCllenEinbringungen(),this.calculateSchnitt(),this.save()}catch(n){this.modalTitle="Problem",this.modalContent=n.message,this.showModal=!0,console.error(n)}},sumYears(n){return Object.values(n).map(e=>e.points).reduce((e,t)=>e+t,0)},checkAndFillInputs(){for(const n in this.einbringen){const e=this.einbringen[n];let t=0;for(let r=1;r<=this.numberOfEndedYears;r++){if(typeof e.years[r].points=="number"){t+=e.years[r].points;continue}throw new Error(`Ups, du scheinst vergessen zu haben beim Fach ${e.name} das ${r}. Halbjahr auszuf\xFCllen`)}t=Math.round(t/this.numberOfEndedYears);for(let r=this.numberOfEndedYears+1;r<=4;r++)e.years[r].points=t;e.exam!==null&&(e.examPoints=t)}},makePflichtEinbringungen(){const n=t=>{for(const r in t.years)t.years[r].einbringen="pflicht"},e=(t,r,d="pflicht")=>{const u=Object.values(t.years);u.sort((b,p)=>b.points-p.points);for(let b=0;b<r;b++)u[3-b].einbringen=d};this.einbringen.art_music.exam===null&&e(this.einbringen.art_music,2),this.einbringen.reli_ethic.exam===null&&e(this.einbringen.reli_ethic,2),(()=>{var $,j;if(this.einbringen.lang1!==void 0&&(($=this.einbringen.lang1)==null?void 0:$.exam)!==null||this.einbringen.lang2!==void 0&&((j=this.einbringen.lang2)==null?void 0:j.exam)!==null||c.getSubject(this.kurswahl.lk2).specificField===f.language)return;let b=-1;this.einbringen.lang2&&(b=this.sumYears(this.einbringen.lang2.years));let p=this.sumYears(this.einbringen.lang1.years),v=1;p<b&&(v=2),n(this.einbringen[`lang${v}`])})(),(()=>{c.getSubject(this.kurswahl.lk2).name!=="Geschichte"&&this.einbringen.history.exam===null&&n(this.einbringen.history)})(),(()=>{let b=0;c.getSubject(this.kurswahl.lk2).specificField===f.science&&b++;let p=[];for(let v=1;v<=3&&this.einbringen[`nawi${v}`]!==void 0;v++){if(this.einbringen[`nawi${v}`].exam===null){p.push(this.einbringen[`nawi${v}`]);continue}b++}p=p.sort((v,$)=>this.sumYears(v.years)-this.sumYears($.years)).reverse();for(let v=0;b<2;v++)n(p[v]),b++})(),(()=>{if(this.einbringen.gewi1.exam!==null||this.einbringen.gewi2.exam!==null)return;let b=this.sumYears(this.einbringen.gewi1.years),p=this.sumYears(this.einbringen.gewi2.years),v=1;b<p&&(v=2),e(this.einbringen[`gewi${v}`],2)})();for(const t in this.einbringen){const r=this.einbringen[t];r.exam===null&&(Object.values(r.years).some(d=>d.einbringen.length>0)||e(r,1,"min1"))}},makeAuff\u00FCllenEinbringungen(){let n=20;const e=[];for(const t in this.einbringen){const r=this.einbringen[t];if(r.exam===null)for(let d=1;d<=4;d++){if(r.years[d].einbringen.length>0){n--;continue}e.push({kursKey:t,year:r.years[d]})}}e.sort((t,r)=>t.year.points-r.year.points).reverse();for(let t=0;t<n;t++)e[t].year.einbringen="auff\xFCllen"},calculateSchnitt(){let n=0;for(const t in this.einbringen){const r=this.einbringen[t];for(const d in r.years)r.years[d].einbringen.length===0&&r.exam===null||(console.log(t,r.years[d].points*(t.startsWith("lk")?2:1)),n+=r.years[d].points*(t.startsWith("lk")?2:1))}this.schnitt.block1=Math.round(n/(40+8)*40),this.schnitt.block2=this.examKurse.reduce((t,r)=>t+r.examPoints*4,0),this.schnitt.punkte=Math.round(n/(40+8)*100)/100;const e=this.schnitt.block1+this.schnitt.block2;this.schnitt.note=(()=>e>=823?"1,0":e>=805?"1,1":e>=787?"1,2":e>=769?"1,3":e>=751?"1,4":e>=733?"1,5":e>=715?"1,6":e>=697?"1,7":e>=679?"1,8":e>=661?"1,9":e>=643?"2,0":e>=625?"2,1":e>=607?"2,2":e>=589?"2,3":e>=571?"2,4":e>=553?"2,5":e>=535?"2,6":e>=517?"2,7":e>=499?"2,8":e>=481?"2,9":e>=463?"3,0":e>=445?"3,1":e>=427?"3,2":e>=409?"3,3":e>=391?"3,4":e>=373?"3,5":e>=355?"3,6":e>=337?"3,7":e>=319?"3,8":e>=301?"3,9":e===300?"4,0":"Nicht bestanden :(")()},save(){const n={};for(const e in this.einbringen){n[e]=[];for(let t=1;t<=this.numberOfEndedYears&&t<5;t++)n[e].push(this.einbringen[e].years[t].points);this.numberOfEndedYears===5&&n[e].push(this.einbringen[e].examPoints)}localStorage.setItem("einbringen",JSON.stringify(n))},load(){let n="";try{const e=JSON.parse(localStorage.getItem("kurswahl"));if(e==null)throw new Error("Keine Kurswahl");this.kurswahl=e}catch{n="Gib erst deine Kurse an bevor du deine Punkte eintragen kannst. "}try{const e=JSON.parse(localStorage.getItem("abif\xE4cher"));if(e==null)throw new Error("Keine Abif\xE4cher");for(const t in e)this.exams[t]=e[t]}catch{n+="Gib erst deine Abif\xE4cher an bevor du deine Punkte eintragen kannst."}try{const e=JSON.parse(localStorage.getItem("einbringen"));if(e==null)throw new Error;for(let t in e){this.numberOfEndedYears=e[t].length;for(let r=0;r<e[t].length&&r<4;r++)this.einbringen[t].years[r+1].points=e[t][r];e.length===5&&(this.einbringen[t].examPoints=e[t][4])}}catch{}for(const e in this.einbringen){if(!Object.keys(this.kurswahl).includes(e)){delete this.einbringen[e];continue}this.einbringen[e].name=this.kurswahl[e];const t=Object.entries(this.exams).filter(r=>r[1]===this.kurswahl[e])[0];this.einbringen[e].exam=t?parseInt(t[0][1])<4?"write":"oral":null}n.length>0&&(this.modalTitle="Fehlende Daten",this.modalContent=n,this.showModal=!0)}}},jt=Object.assign(Nt,{__name:"Einbringen",setup(n){return(e,t)=>(o(),l("div",null,[a("div",ft,[(o(!0),l(w,null,_(e.messages,r=>(o(),l("div",{class:"message",key:r},g(r),1))),128))]),a("div",bt,[mt,a("select",{class:"select",value:e.numberOfEndedYears,onChange:t[0]||(t[0]=r=>e.numberOfEndedYears=parseInt(r.target.value))},[(o(),l(w,null,_(4,r=>a("option",{key:r,value:r},g(r),9,vt)),64)),pt],40,gt)]),a("section",null,[kt,a("p",null,[wt,_t,e.numberOfEndedYears===5?(o(),l("span",yt,"Trage im f\xFCnften Feld deine Pr\xFCfungsnote ein.")):A("",!0)]),(o(!0),l(w,null,_(e.examKurse,r=>(o(),l("div",{class:"kurs",key:r.name},[I(X,{kurs:r,numberOfEndedYears:e.numberOfEndedYears},null,8,["kurs","numberOfEndedYears"])]))),128))]),a("section",null,[xt,Ot,(o(!0),l(w,null,_(e.nonExamKurse,r=>(o(),l("div",{class:"kurs",key:r.name},[I(X,{kurs:r,numberOfEndedYears:e.numberOfEndedYears},null,8,["kurs","numberOfEndedYears"])]))),128))]),a("section",null,[St,e.numberOfEndedYears!==4?(o(),l("p",Et,"Nicht belegte Halbjahre werden mit Hilfe des Durchschnitts der vorherigen Halbjahre ausgerechnet")):A("",!0),a("div",It,[a("button",{class:"btn-focus",onClick:t[1]||(t[1]=(...r)=>e.calculateAbischnitt&&e.calculateAbischnitt(...r))},"Abischnitt berechnen")]),e.schnitt.note!==null?(o(),l("div",At,[a("p",null,"Block I: "+g(e.schnitt.block1),1),a("p",null,"Block II: "+g(e.schnitt.block2),1),a("p",null,"Block I + II: "+g(e.schnitt.block1+e.schnitt.block2),1),a("p",null,"Punktzahl: "+g(e.schnitt.punkte),1),a("div",$t,[a("h2",Lt,"Abinote: "+g(e.schnitt.note),1)])])):A("",!0)]),I(ne,{isOpen:e.showModal,onClose:t[2]||(t[2]=r=>e.showModal=!e.showModal),title:e.modalTitle,content:e.modalContent,buttons:[]},null,8,["isOpen","title","content"])]))}});var Gt=R(jt,[["__scopeId","data-v-2be8a802"]]);const Pt={class:"abirechner-container"},Dt={class:"selector"},Ct={inject:["mq"],data(){return{stage:"kurswahl",stages:[new M("Kurswahl","kurswahl"),new M("Abiturf\xE4cher","abif\xE4cher"),new M("Punkte","punkte")]}}},Tt=Object.assign(Ct,{__name:"Index",setup(n){return(e,t)=>(o(),l("div",Pt,[a("div",Dt,[I(ke,{onSelect:t[0]||(t[0]=r=>{e.stage=r.key}),default:e.stage,items:e.stages},null,8,["default","items"])]),a("div",{class:S(["main",e.mq.current])},[e.stage==="kurswahl"?(o(),F(Yn,{key:0})):A("",!0),e.stage==="abif\xE4cher"?(o(),F(st,{key:1})):A("",!0),e.stage==="punkte"?(o(),F(Gt,{key:2})):A("",!0)],2)]))}});var Mt=R(Tt,[["__scopeId","data-v-6ae11bf8"]]);export{Mt as default};
