var me=Object.defineProperty;var W=Object.getOwnPropertySymbols;var ve=Object.prototype.hasOwnProperty,pe=Object.prototype.propertyIsEnumerable;var Q=(n,e,t)=>e in n?me(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,P=(n,e)=>{for(var t in e||(e={}))ve.call(e,t)&&Q(n,t,e[t]);if(W)for(var t of W(e))pe.call(e,t)&&Q(n,t,e[t]);return n};import{S as ke,K as X,a as we,I as R}from"./KeyLabelPair.d9beb045.js";import{o as u,c as h,d as k,i as _e,n as N,_ as H,b as a,F as O,g as E,t as w,v as ye,z as xe,u as C,a as I,p as ee,e as ne,l as te,f as Y,j as B}from"./index.3aee9dc7.js";class p{constructor(e,t,r,d,f,o,v,m){this.name=e,this.field=t,this.specificField=r,this.canBeDeselectedBy=d,this.writeExamPossible=f,this.oralExamPossible=o,this.canBeLeistungskurs=v,this.examMandatory=m}}class S{constructor(e,t){this.name=e,this.duplicate=t}}const g=Object.freeze({science:"NaWi",language_literature_art:"Sprache-Kunst",society:"GeWi"}),b=Object.freeze({language:"Sprache",art_music:"Kunst-Musik",german_math:"Deutsch-Mathe",society:"GeWi",science:"NaWi",informatics:"Informatik",ethics_religion:"Etihk-Religion",sports:"Sport",astro_philo:"Astro-Philo"}),Oe=new p("Mathe",g.science,b.german_math,[],!0,!0,!0,!0),Se=new p("Deutsch",g.language_literature_art,b.german_math,[],!0,!0,!0,!0),Ee=new p("Englisch",g.language_literature_art,b.language,[],!0,!0,!0),je=new p("Franz\xF6sisch",g.language_literature_art,b.language,[],!1,!0),Ie=new p("Russisch",g.language_literature_art,b.language,[],!1,!0),$e=new p("Latein",g.language_literature_art,b.language,[],!1,!0),Ae=new p("Kunst",g.language_literature_art,b.art_music,[],!1,!0),Le=new p("Musik",g.language_literature_art,b.art_music,[],!1,!0),Ne=new p("Geschichte",g.society,b.art_music,[],!0,!0,!0),Ge=new p("GRW",g.society,b.society,[],!0,!0),Pe=new p("Geographie",g.society,b.society,[],!0,!0),De=new p("Physik",g.science,b.science,[],!0,!0,!0),Ce=new p("Chemie",g.science,b.science,[],!0,!0,!0),Te=new p("Biologie",g.science,b.science,[],!0,!0,!0),Ye=new p("Informatik",g.science,b.informatics,[],!1,!0),He=new p("Religion",g.other,b.ethics_religion,[],!1,!0),Ke=new p("Ethik",g.other,b.ethics_religion,[],!1,!0),Me=new p("Sport",g.other,b.sports,[],!1,!1),Fe=new p("Astronomie",g.other,b.astro_philo,[],!1,!1),Re=new p("Philosophie",g.other,b.astro_philo,[],!1,!1),l={ALL:[Oe,Se,Ee,je,$e,Ie,Ae,Le,Ne,Ge,Pe,De,Ce,Te,Ye,He,Ke,Me,Fe,Re],sciences:[],languages:[],secondLanguages:[],society:[],possibleLeistungskurse:[],possibleLeistungskurse2:[],writeExamPossible:[],oralExamPossible:[],getSubject(n){return l.ALL.find(e=>e.name===n)}};l.sciences=l.ALL.filter(n=>n.specificField===b.science);l.languages=l.ALL.filter(n=>n.specificField===b.language);l.secondLanguages=l.languages.filter(n=>n.name!=="Englisch");l.society=l.ALL.filter(n=>n.field===g.society);l.possibleLeistungskurse=l.ALL.filter(n=>n.canBeLeistungskurs);l.possibleLeistungskurse2=l.ALL.filter(n=>n.canBeLeistungskurs&&n.name!=="Deutsch"&&n.name!=="Mathe");l.writeExamPossible=l.ALL.filter(n=>n.writeExamPossible);l.oralExamPossible=l.ALL.filter(n=>n.oralExamPossible);const re={lk1:"Mathe",lk2:"",gk1:"Deutsch",lang1:"",lang2:"",nawi1:"",nawi2:"",nawi3:"",art_music:"",reli_ethic:"",gewi1:"",gewi2:"",history:"Geschichte",sports:"Sport"};function z(){return P({},re)}const Be={points:null,einbringen:""};function T(){return P({},Be)}function ze(){const n={};for(const e in re)n[e]={name:"",exam:null,examPoints:null,years:{1:T(),2:T(),3:T(),4:T()}};return n}const qe={p1:"",p2:"",p3:"",p4:"",p5:""};function ae(){return P({},qe)}const Je={props:{verified:{type:Boolean,required:!0}}},ie=Object.assign(Je,{__name:"VerifiedIcon",setup(n){return(e,t)=>(u(),h("div",{class:N(["verified-icon",n.verified?"verified":"warning"])},[k(_e,{name:n.verified?"verified":"warning"},null,8,["name"])],2))}}),Ve={props:{subjects:{type:Array,required:!0}}},Ue={label:"Nicht verwendet"},We=["value"],Qe={label:"Bereits verwendet"},Xe=["value"];function Ze(n,e,t,r,d,f){return u(),h(O,null,[a("optgroup",Ue,[(u(!0),h(O,null,E(t.subjects.filter(o=>!o.duplicate),o=>(u(),h("option",{key:o.name,value:o.name,class:N({duplicate:o.duplicate})},w(o.name),11,We))),128))]),a("optgroup",Qe,[(u(!0),h(O,null,E(t.subjects.filter(o=>o.duplicate),o=>(u(),h("option",{key:o.name,value:o.name,class:N({duplicate:o.duplicate})},w(o.name),11,Xe))),128))])],64)}var j=H(Ve,[["render",Ze]]);const x=n=>(ee("data-v-4499b814"),n=n(),ne(),n),en=x(()=>a("h4",null,"Leistungskurse",-1)),nn={class:"selectors"},tn={class:"label-select-container"},rn=x(()=>a("div",{class:"label"},"Leistungskurs 1",-1)),an=["value"],sn=x(()=>a("option",{value:"Deutsch"},"Deutsch",-1)),on=x(()=>a("option",{value:"Mathe"},"Mathe",-1)),ln=[sn,on],cn={class:"label-select-container"},un=x(()=>a("div",{class:"label"},"Leistungskurs 2",-1)),dn={class:"label-select-container"},bn=x(()=>a("div",{class:"label"},"Grundkurs (Je nach LK1)",-1)),hn=x(()=>a("h4",null,"Naturwissenschaften und Sprachen",-1)),fn={class:"center"},gn={class:"selectors"},mn={class:"label"},vn=["value","onChange"],pn={class:"label"},kn=["value","onChange"],wn=x(()=>a("h4",null,"Gesellschaftswissenschaften",-1)),_n={class:"selectors"},yn={key:0,class:"label-select-container"},xn=x(()=>a("div",{class:"label"},"Gewi 1",-1)),On=x(()=>a("div",null,"Geschichte",-1)),Sn=[xn,On],En={class:"label"},jn=["value","onChange"],In=x(()=>a("h4",null,"Andere",-1)),$n={class:"selectors"},An={class:"label-select-container"},Ln=x(()=>a("div",{class:"label"},"Musik oder Kunst",-1)),Nn=["value"],Gn={class:"label-select-container"},Pn=x(()=>a("div",{class:"label"},"Ethik oder Religion",-1)),Dn=["value"],Cn=x(()=>a("div",{class:"label-select-container"},[a("div",{class:"label"},"Sport"),a("div",null,"Sport")],-1)),Tn={inject:["mq"],data(){return{kurswahl:z(),nawiLangOptions:[new X("3-nawi","3 Nawi, 1 Sprache"),new X("2-nawi","2 Nawi, 2 Sprachen")],nawiLangOption:"3-nawi",numberOfGkNawi:3,numberOfGkLangs:1,lk2:[],nawi:[],langs:[],gewi:[],art_music:[],reli_ethic:[],isHistoryGk:!0,correctness:!1}},mounted(){this.load(),this.calculateAll(!1)},methods:{calculateAll(n=!0){this.getAllGroups(),this.getNumberOfGkNawiAndLangs(),this.checkCorrectNess(),this.correctness&&n&&this.save()},setAndRemoveDuplicate(n,e){for(const t of Object.entries(this.kurswahl))t[1]===e&&t[0]!==n&&(this.kurswahl[t[0]]="");this.kurswahl[n]=e,this.calculateAll()},isDuplicate(n){for(const e of Object.entries(this.kurswahl))if(e[1]===n)return!0;return!1},getAllGroups(){this.lk2=l.possibleLeistungskurse2.map(n=>new S(n.name,this.isDuplicate(n.name))),this.nawi=[...l.sciences,l.getSubject("Informatik")].map(n=>new S(n.name,this.isDuplicate(n.name))),this.langs=l.languages.map(n=>new S(n.name,this.isDuplicate(n.name))),this.gewi=[...l.society.filter(n=>n.name!=="Geschichte"),l.getSubject("Astronomie"),l.getSubject("Philosophie"),l.getSubject("Informatik")].map(n=>new S(n.name,this.isDuplicate(n.name))),this.art_music=[l.getSubject("Musik"),l.getSubject("Kunst")].map(n=>new S(n.name,this.isDuplicate(n.name))),this.reli_ethic=[l.getSubject("Ethik"),l.getSubject("Religion")].map(n=>new S(n.name,this.isDuplicate(n.name))),this.isHistoryGk=this.kurswahl.lk2!=="Geschichte",this.isHistoryGk?this.kurswahl.history="Geschichte":this.kurswahl.history=""},selectLk1(n){this.kurswahl.lk1=n,this.kurswahl.gk1=this.kurswahl.lk1==="Mathe"?"Deutsch":"Mathe"},changeNawiLangOption(n){this.nawiLangOption=n,n==="3-nawi"&&(this.kurswahl.lang2=""),n==="2-nawi"&&(this.kurswahl.nawi3=""),this.calculateAll()},getNumberOfGkNawiAndLangs(){var t,r;const n=(this.nawiLangOption==="3-nawi"?3:2)-(((t=l.getSubject(this.kurswahl.lk2))==null?void 0:t.field)===g.science?1:0);n<this.numberOfGkNawi&&(this.kurswahl.nawi3=""),this.numberOfGkNawi=n;const e=(this.nawiLangOption==="3-nawi"?1:2)-(((r=l.getSubject(this.kurswahl.lk2))==null?void 0:r.specificField)===b.language?1:0);e<this.numberOfGkLangs&&(this.kurswahl.lang2=""),this.numberOfGkLangs=e},checkCorrectNess(){this.correctness=(()=>!(this.kurswahl.lk1.length===0||this.kurswahl.lk2.length===0||this.numberOfGkNawi===1&&this.kurswahl.nawi1.length===0||this.numberOfGkNawi===2&&(this.kurswahl.nawi1.length===0||this.kurswahl.nawi2.length===0)||this.numberOfGkNawi===3&&(this.kurswahl.nawi1.length===0||this.kurswahl.nawi2.length===0||this.kurswahl.nawi3.length===0)||this.numberOfGkLangs===1&&this.kurswahl.lang1.length===0||this.numberOfGkLangs===2&&(this.kurswahl.lang1.length===0||this.kurswahl.lang2.length===0)||this.kurswahl.art_music.length===0||this.kurswahl.reli_ethic.length===0||this.kurswahl.gewi1.length===0||this.kurswahl.gewi2.length===0))()},save(){const n=P({},this.kurswahl);for(const e in n)n[e].length>0||delete n[e];localStorage.setItem("kurswahl",JSON.stringify(n)),localStorage.setItem("abif\xE4cher",void 0),localStorage.setItem("einbringen",void 0)},load(){try{const n=JSON.parse(localStorage.getItem("kurswahl"));if(n===void 0)return;for(const e in n)this.kurswahl[e]=n[e]}catch{}}}},Yn=Object.assign(Tn,{__name:"Kurswahl",setup(n){return(e,t)=>(u(),h("div",{class:N([e.mq.current,"container"])},[a("section",null,[en,a("div",nn,[a("div",tn,[rn,a("select",{class:"select",name:"leistungskurs-1",value:e.kurswahl.lk1,onChange:t[0]||(t[0]=r=>e.selectLk1(r.target.value))},ln,40,an)]),a("div",cn,[un,ye(a("select",{class:"select",name:"leistungskurs-2","onUpdate:modelValue":t[1]||(t[1]=r=>e.kurswahl.lk2=r),onChange:t[2]||(t[2]=r=>e.setAndRemoveDuplicate("lk2",r.target.value))},[k(j,{subjects:e.lk2},null,8,["subjects"])],544),[[xe,e.kurswahl.lk2]])]),a("div",dn,[bn,a("div",null,w(e.kurswahl.gk1),1)])])]),a("section",null,[hn,a("div",fn,[k(ke,{options:e.nawiLangOptions,default:e.nawiLangOption,onSwitch:e.changeNawiLangOption,invert:!0},null,8,["options","default","onSwitch"])]),a("div",gn,[(u(!0),h(O,null,E(e.numberOfGkNawi,r=>{var d;return u(),h("div",{class:"label-select-container",key:r},[a("div",mn,"Naturwissenschaft "+w(r+(((d=C(l).getSubject(e.kurswahl.lk2))==null?void 0:d.field)===C(g).science?1:0)),1),a("select",{class:"select",name:"naturwissenschaften-1",value:e.kurswahl[`nawi${r}`],onChange:f=>e.setAndRemoveDuplicate(`nawi${r}`,f.target.value)},[k(j,{subjects:e.nawi},null,8,["subjects"])],40,vn)])}),128)),(u(!0),h(O,null,E(e.numberOfGkLangs,r=>{var d;return u(),h("div",{class:"label-select-container",key:r},[a("div",pn,"Sprache "+w(r+(((d=C(l).getSubject(e.kurswahl.lk2))==null?void 0:d.specificField)===C(b).language?1:0)),1),a("select",{class:"select",name:"sprachen-1",value:e.kurswahl[`lang${r}`],onChange:f=>e.setAndRemoveDuplicate(`lang${r}`,f.target.value)},[k(j,{subjects:e.langs},null,8,["subjects"])],40,kn)])}),128))])]),a("section",null,[wn,a("div",_n,[e.isHistoryGk?(u(),h("div",yn,Sn)):I("",!0),(u(),h(O,null,E(2,r=>a("div",{class:"label-select-container",key:r},[a("div",En,"Gewi "+w(r+(e.isHistoryGk?1:0)),1),a("select",{class:"select",name:"gesellschaftswissenschaft-1",value:e.kurswahl[`gewi${r}`],onChange:d=>e.setAndRemoveDuplicate(`gewi${r}`,d.target.value)},[k(j,{subjects:e.gewi},null,8,["subjects"])],40,jn)])),64))])]),a("section",null,[In,a("div",$n,[a("div",An,[Ln,a("select",{class:"select",name:"musik-kunst-1",value:e.kurswahl.art_music,onChange:t[3]||(t[3]=r=>e.setAndRemoveDuplicate("art_music",r.target.value))},[k(j,{subjects:e.art_music},null,8,["subjects"])],40,Nn)]),a("div",Gn,[Pn,a("select",{class:"select",name:"ethik-religion-1",value:e.kurswahl.reli_ethic,onChange:t[4]||(t[4]=r=>e.setAndRemoveDuplicate("reli_ethic",r.target.value))},[k(j,{subjects:e.reli_ethic},null,8,["subjects"])],40,Dn)]),Cn])]),k(ie,{verified:e.correctness},null,8,["verified"])],2))}});var Hn=H(Yn,[["__scopeId","data-v-4499b814"]]);const Kn=a("h4",null,"Schriftliche Pr\xFCfungen",-1),Mn={class:"selectors"},Fn={class:"label-select-container"},Rn=a("div",{class:"label"},"P1",-1),Bn={class:"label-select-container"},zn=a("div",{class:"label"},"P2",-1),qn={class:"label-select-container"},Jn=a("div",{class:"label"},"P3",-1),Vn=["value"],Un=a("h4",null,"M\xFCndliche Pr\xFCfungen",-1),Wn={class:"selectors"},Qn={class:"label-select-container"},Xn=a("div",{class:"label"},"P4",-1),Zn=["value"],et={class:"label-select-container"},nt=a("div",{class:"label"},"P5",-1),tt=["value"],rt={data(){return{kurswahl:z(),exams:ae(),p3s:[],p4s:[],p5s:[],correctness:!1,showModal:!1,modalTitle:"",modalContent:""}},mounted(){this.load(),this.calculateAll()},methods:{calculateAll(){this.getAllGroups(),this.removeWrongExams(),this.checkCorrectness(),this.correctness&&this.save()},setAndRemoveDuplicate(n,e){for(const t of Object.entries(this.exams))t[1]===e&&t[0]!==n&&(this.exams[t[0]]="");this.exams[n]=e,this.calculateAll()},isDuplicate(n){return Object.values(this.exams).includes(n)},getAllGroups(){const n=Object.entries(this.kurswahl).filter(t=>!t[0].startsWith("lk")),e=t=>n.findIndex(r=>r[1]===t.name)!==-1;this.p3s=l.writeExamPossible.filter(e).map(t=>new S(t.name,this.isDuplicate(t.name))),this.p4s=(()=>this.exams.p3!==this.kurswahl.gk1?[new S(this.kurswahl.gk1,!1)]:l.oralExamPossible.filter(e))().map(t=>new S(t.name,this.isDuplicate(t.name))),this.p5s=(()=>{let t=l.oralExamPossible.filter(f=>e(f)&&f.name!==this.kurswahl.gk1);const r=(()=>{const f=Object.values(g);for(const o of Object.values(this.exams).slice(0,4)){const v=l.getSubject(o);v!==void 0&&f.includes(v.field)&&f.splice(f.indexOf(v.field),1)}return f})(),d=!Object.values(this.exams).some(f=>{const o=l.getSubject(f);return o?(o.specificField===b.language||o.specificField===b.science)&&o.name!=="Deutsch":!1});return r.length>0&&(t=t.filter(f=>r.includes(f.field))),d&&(t=t.filter(f=>f.specificField===b.language||f.specificField===b.science)),t})().map(t=>new S(t.name,this.isDuplicate(t.name)))},removeWrongExams(){for(let n=3;n<=5;n++)!this[`p${n}s`].find(e=>e.name===this.exams[`p${n}`])&&this.exams[`p${n}`].length>0&&(this.exams[`p${n}`]="")},checkCorrectness(){this.correctness=Object.values(this.exams).every(n=>n.length!==0)},save(){localStorage.setItem("abif\xE4cher",JSON.stringify(this.exams))},load(){try{const n=JSON.parse(localStorage.getItem("kurswahl"));if(n==null)throw new Error("Keine Kurswahl");for(const e in n)this.kurswahl[e]=n[e];this.exams.p1=this.kurswahl.lk1,this.exams.p2=this.kurswahl.lk2}catch{this.modalTitle="Fehlende Kurswahl",this.modalContent="Bitte gib zuerst deine Kurse an, bevor du deine Abif\xE4cher w\xE4hlen kannst.",this.showModal=!0}try{const n=JSON.parse(localStorage.getItem("abif\xE4cher"));if(n===void 0)return;for(const e in n)this.exams[e]=n[e]}catch{}}}},at=Object.assign(rt,{__name:"Abif\xE4cher",setup(n){return(e,t)=>(u(),h("div",null,[a("section",null,[Kn,a("div",Mn,[a("div",Fn,[Rn,a("div",null,w(e.exams.p1),1)]),a("div",Bn,[zn,a("div",null,w(e.exams.p2),1)]),a("div",qn,[Jn,a("select",{class:"select",name:"p3-1",value:e.exams.p3,onChange:t[0]||(t[0]=r=>e.setAndRemoveDuplicate("p3",r.target.value))},[k(j,{subjects:e.p3s},null,8,["subjects"])],40,Vn)])])]),a("section",null,[Un,a("div",Wn,[a("div",Qn,[Xn,a("select",{class:"select",name:"p4",value:e.exams.p4,onChange:t[1]||(t[1]=r=>e.setAndRemoveDuplicate("p4",r.target.value))},[k(j,{subjects:e.p4s},null,8,["subjects"])],40,Zn)]),a("div",et,[nt,a("select",{class:"select",name:"p5",value:e.exams.p5,onChange:t[2]||(t[2]=r=>e.setAndRemoveDuplicate("p5",r.target.value))},[k(j,{subjects:e.p5s},null,8,["subjects"])],40,tt)])])]),k(te,{isOpen:e.showModal,onClose:t[3]||(t[3]=r=>e.showModal=!e.showModal),title:e.modalTitle,content:e.modalContent,buttons:[]},null,8,["isOpen","title","content"]),k(ie,{verified:e.correctness},null,8,["verified"])]))}});var se={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.emulateTab=void 0;var e=new Array("offsetHeight","scrollHeight","clientHeight"),t=!0,r=/text|password|search|tel|url/;function d(){var i=m()||document.body,s=G(i);return o(i,s)}n.emulateTab=d,function(i){i.from=f,i.to=function(s,c){return c===void 0&&(c=!1),f(m()).to(s,c)},i.backwards=function(){return i.to($(m()),t)},i.forwards=function(){return i()},i.findSelectableElements=K}(d=n.emulateTab||(n.emulateTab={}));function f(i){return i===void 0&&(i=document.body),{toPreviousElement:function(){return o(i,$(),t)},toNextElement:function(){return o(i,G(i))},to:function(s,c){return c===void 0&&(c=!1),o(i,s,c)}}}function o(i,s,c){c===void 0&&(c=!1);var _=i.dispatchEvent(v("keydown",c));if(_){if(i.blur(),s.focus(),document.activeElement!==s)try{document.activeElement=s}catch{console.warn("could not switch active element")}s instanceof HTMLInputElement&&r.test(s.type)&&(s.selectionStart=0);var y=v("keyup",c);return s.dispatchEvent(y),!0}else return i.dispatchEvent(v("keypress",c)),i.dispatchEvent(v("keyup",c)),!1}function v(i,s){return s===void 0&&(s=!1),new KeyboardEvent(i,{code:"Tab",key:"Tab",cancelable:!0,bubbles:!0,shiftKey:s})}function m(){var i=document.activeElement;return i instanceof HTMLElement?i:void 0}function $(i){i===void 0&&(i=document.body);var s=K();if(s.length<1)throw new Error("no selectable elements found");var c=s.indexOf(i),_=(c>0?c:s.length)-1,y=s[_];return y}function G(i){i===void 0&&(i=document.body);var s=K();if(s.length<1)throw new Error("no selectable elements found");var c=s.indexOf(i),_=c+1<s.length?c+1:0,y=s[_];return y}function K(){var i=Array.from(document.querySelectorAll("*")).filter(oe);q();var s=i.filter(ce(ue,M,de,be,he)).reduce(function(_,y){var A=y.tabIndex,D=_[""+A]||{tabIndex:A,elements:[]};return D.elements.push(y),_[A]=D,_},{}),c=Object.values(s).sort(fe).reduce(function(_,y){return _.concat(y.elements)},new Array);return c}var oe=function(i){return i instanceof HTMLElement},M,q=function(){var i=J();i?M=le(i):M=V,q=function(){}},le=function(i){return function(s){var c=s[i];return!!c&&typeof c=="number"&&c>0}};function J(i){i===void 0&&(i=document.body);var s=i,c=e.find(function(ge){var F=s[ge];return F&&typeof F=="number"&&F>0});if(c)return c;for(var _=i.children,y=0,A=Array.from(_);y<A.length;y++){var D=A[y],U=J(D);if(U)return U}}var V=function(i){if(!i.isConnected)return!1;if(i.tagName==="BODY")return!0;var s=getComputedStyle(i);if(s.display==="none"||s.visibility==="collapse")return!1;var c=i.parentElement;return c?V(c):!1};function ce(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];return function(c){return!i.some(function(_){return!_(c)})}}function ue(i){return typeof i.tabIndex=="number"&&i.tabIndex>=0}var de=function(i){return!i.disabled};function be(i){return!(i instanceof HTMLAnchorElement)||!!i.href||i.getAttribute("tabIndex")!==null}var he=function(i){return getComputedStyle(i).visibility!=="collapse"};function fe(i,s){if(i.tabIndex>0&&s.tabIndex>0)return i.tabIndex-s.tabIndex;if(i.tabIndex>0)return-i.tabIndex;if(s.tabIndex>0)return s.tabIndex;throw new Error("same tab index for two groups")}})(se);const it={class:"kurs-row"},st={class:"name"},ot={class:"points"},lt=["value","onKeydown","disabled"],ct=["value","disabled"],ut={props:{kurs:{type:Object,required:!0},numberOfEndedYears:{type:Number,required:!0}},mounted(){},methods:{onKeyDown(n,e){try{if(e.key==="Tab")return;e.preventDefault();let t;if(e.key!=="Delete"&&e.key!=="Backspace"&&(t=parseInt(e.target.value+e.key),t>15||t<0||Number.isNaN(t)))return;n===5?this.kurs.examPoints=t:this.kurs.years[n].points=t,t>1&&se.emulateTab()}catch{}}}},Z=Object.assign(ut,{__name:"Kurs",setup(n){return(e,t)=>(u(),h("div",it,[a("div",st,w(n.kurs.name),1),a("div",ot,[(u(),h(O,null,E(4,r=>a("input",{type:"number",class:N(["input",n.kurs.years[r].einbringen]),min:"0",max:"15",key:r,value:n.kurs.years[r].points,onKeydown:d=>e.onKeyDown(r,d),disabled:r>n.numberOfEndedYears},null,42,lt)),64)),n.kurs.exam!==null?(u(),h("input",{key:0,type:"number",class:"input",min:"0",max:"15",value:n.kurs.examPoints,onKeydown:t[0]||(t[0]=r=>e.onKeyDown(5,r)),disabled:n.numberOfEndedYears<5},null,40,ct)):I("",!0)])]))}});const L=n=>(ee("data-v-2be8a802"),n=n(),ne(),n),dt={class:"messages"},bt={class:"number-of-ended-years center"},ht=L(()=>a("span",null,"Beendete Halbjahre:",-1)),ft=["value"],gt=["value"],mt=L(()=>a("option",{value:5},"4 + Pr\xFCfung",-1)),vt=L(()=>a("h4",null,"Pr\xFCfungsf\xE4cher",-1)),pt=Y(" In diesen F\xE4chern m\xFCssen alle Halbjahre eingebracht werden. Die Punkte der Leistungskurse z\xE4hlen doppelt."),kt=L(()=>a("br",null,null,-1)),wt={key:0},_t=L(()=>a("h4",null,"Andere Grundkurse",-1)),yt=L(()=>a("div",{class:"legend"},[a("p",null,[a("span",{class:"square lila"}),Y("Pflichteinbringungen")]),a("p",null,[a("span",{class:"square pink"}),Y("Mindestens 1")]),a("p",null,[a("span",{class:"square green"}),Y("Auff\xFCllen")])],-1)),xt=L(()=>a("h4",null,"Schnitt berechnen",-1)),Ot={key:0},St={class:"center"},Et={key:1,class:"schnitt"},jt={class:"flex-n-margin center"},It={class:"schnitt"},$t={data(){return{kurswahl:z(),exams:ae(),einbringen:ze(),messages:[],numberOfEndedYears:1,schnitt:{block1:0,block2:0,note:null,punkte:null},showModal:!1,modalTitle:"",modalContent:""}},computed:{examKurse:function(){const n=[];for(const e in this.einbringen)this.einbringen[e].exam!==null&&n.push(this.einbringen[e]);return n.sort((e,t)=>e-t),n},nonExamKurse:function(){const n=[];for(const e in this.einbringen)this.einbringen[e].exam===null&&n.push(this.einbringen[e]);return n}},mounted(){this.load()},methods:{calculateAbischnitt(){try{this.checkAndFillInputs(),this.makePflichtEinbringungen(),this.makeAuff\u00FCllenEinbringungen(),this.calculateSchnitt(),this.save()}catch(n){this.modalTitle="Problem",this.modalContent=n.message,this.showModal=!0,console.error(n)}},sumYears(n){return Object.values(n).map(e=>e.points).reduce((e,t)=>e+t,0)},checkAndFillInputs(){for(const n in this.einbringen){const e=this.einbringen[n];let t=0;for(let r=1;r<=this.numberOfEndedYears;r++){if(typeof e.years[r].points=="number"){t+=e.years[r].points;continue}throw new Error(`Ups, du scheinst vergessen zu haben beim Fach ${e.name} das ${r}. Halbjahr auszuf\xFCllen`)}t=Math.round(t/this.numberOfEndedYears);for(let r=this.numberOfEndedYears+1;r<=4;r++)e.years[r].points=t;e.exam!==null&&(e.examPoints=t)}},makePflichtEinbringungen(){const n=t=>{for(const r in t.years)t.years[r].einbringen="pflicht"},e=(t,r,d="pflicht")=>{const f=Object.values(t.years);f.sort((o,v)=>o.points-v.points);for(let o=0;o<r;o++)f[3-o].einbringen=d};this.einbringen.art_music.exam===null&&e(this.einbringen.art_music,2),this.einbringen.reli_ethic.exam===null&&e(this.einbringen.reli_ethic,2),(()=>{var $,G;if(this.einbringen.lang1!==void 0&&(($=this.einbringen.lang1)==null?void 0:$.exam)!==null||this.einbringen.lang2!==void 0&&((G=this.einbringen.lang2)==null?void 0:G.exam)!==null||l.getSubject(this.kurswahl.lk2).specificField===b.language)return;let o=-1;this.einbringen.lang2&&(o=this.sumYears(this.einbringen.lang2.years));let v=this.sumYears(this.einbringen.lang1.years),m=1;v<o&&(m=2),n(this.einbringen[`lang${m}`])})(),(()=>{l.getSubject(this.kurswahl.lk2).name!=="Geschichte"&&this.einbringen.history.exam===null&&n(this.einbringen.history)})(),(()=>{let o=0;l.getSubject(this.kurswahl.lk2).specificField===b.science&&o++;let v=[];for(let m=1;m<=3&&this.einbringen[`nawi${m}`]!==void 0;m++){if(this.einbringen[`nawi${m}`].exam===null){v.push(this.einbringen[`nawi${m}`]);continue}o++}v=v.sort((m,$)=>this.sumYears(m.years)-this.sumYears($.years)).reverse();for(let m=0;o<2;m++)n(v[m]),o++})(),(()=>{if(this.einbringen.gewi1.exam!==null||this.einbringen.gewi2.exam!==null)return;let o=this.sumYears(this.einbringen.gewi1.years),v=this.sumYears(this.einbringen.gewi2.years),m=1;o<v&&(m=2),e(this.einbringen[`gewi${m}`],2)})();for(const t in this.einbringen){const r=this.einbringen[t];r.exam===null&&(Object.values(r.years).some(d=>d.einbringen.length>0)||e(r,1,"min1"))}},makeAuff\u00FCllenEinbringungen(){let n=20;const e=[];for(const t in this.einbringen){const r=this.einbringen[t];if(r.exam===null)for(let d=1;d<=4;d++){if(r.years[d].einbringen.length>0){n--;continue}e.push({kursKey:t,year:r.years[d]})}}e.sort((t,r)=>t.year.points-r.year.points).reverse();for(let t=0;t<n;t++)e[t].year.einbringen="auff\xFCllen"},calculateSchnitt(){let n=0;for(const t in this.einbringen){const r=this.einbringen[t];for(const d in r.years)r.years[d].einbringen.length===0&&r.exam===null||(console.log(t,r.years[d].points*(t.startsWith("lk")?2:1)),n+=r.years[d].points*(t.startsWith("lk")?2:1))}this.schnitt.block1=Math.round(n/(40+8)*40),this.schnitt.block2=this.examKurse.reduce((t,r)=>t+r.examPoints*4,0),this.schnitt.punkte=Math.round(n/(40+8)*100)/100;const e=this.schnitt.block1+this.schnitt.block2;this.schnitt.note=(()=>e>=823?"1,0":e>=805?"1,1":e>=787?"1,2":e>=769?"1,3":e>=751?"1,4":e>=733?"1,5":e>=715?"1,6":e>=697?"1,7":e>=679?"1,8":e>=661?"1,9":e>=643?"2,0":e>=625?"2,1":e>=607?"2,2":e>=589?"2,3":e>=571?"2,4":e>=553?"2,5":e>=535?"2,6":e>=517?"2,7":e>=499?"2,8":e>=481?"2,9":e>=463?"3,0":e>=445?"3,1":e>=427?"3,2":e>=409?"3,3":e>=391?"3,4":e>=373?"3,5":e>=355?"3,6":e>=337?"3,7":e>=319?"3,8":e>=301?"3,9":e===300?"4,0":"Nicht bestanden :(")()},save(){const n={};for(const e in this.einbringen){n[e]=[];for(let t=1;t<=this.numberOfEndedYears&&t<5;t++)n[e].push(this.einbringen[e].years[t].points);this.numberOfEndedYears===5&&n[e].push(this.einbringen[e].examPoints)}localStorage.setItem("einbringen",JSON.stringify(n))},load(){let n="";try{const e=JSON.parse(localStorage.getItem("kurswahl"));if(e==null)throw new Error("Keine Kurswahl");this.kurswahl=e}catch{n="Gib erst deine Kurse an bevor du deine Punkte eintragen kannst. "}try{const e=JSON.parse(localStorage.getItem("abif\xE4cher"));if(e==null)throw new Error("Keine Abif\xE4cher");for(const t in e)this.exams[t]=e[t]}catch{n+="Gib erst deine Abif\xE4cher an bevor du deine Punkte eintragen kannst."}try{const e=JSON.parse(localStorage.getItem("einbringen"));if(e==null)throw new Error;for(let t in e){this.numberOfEndedYears=e[t].length;for(let r=0;r<e[t].length&&r<4;r++)this.einbringen[t].years[r+1].points=e[t][r];e.length===5&&(this.einbringen[t].examPoints=e[t][4])}}catch{}for(const e in this.einbringen){if(!Object.keys(this.kurswahl).includes(e)){delete this.einbringen[e];continue}this.einbringen[e].name=this.kurswahl[e];const t=Object.entries(this.exams).filter(r=>r[1]===this.kurswahl[e])[0];this.einbringen[e].exam=t?parseInt(t[0][1])<4?"write":"oral":null}n.length>0&&(this.modalTitle="Fehlende Daten",this.modalContent=n,this.showModal=!0)}}},At=Object.assign($t,{__name:"Einbringen",setup(n){return(e,t)=>(u(),h("div",null,[a("div",dt,[(u(!0),h(O,null,E(e.messages,r=>(u(),h("div",{class:"message",key:r},w(r),1))),128))]),a("div",bt,[ht,a("select",{class:"select",value:e.numberOfEndedYears,onChange:t[0]||(t[0]=r=>e.numberOfEndedYears=parseInt(r.target.value))},[(u(),h(O,null,E(4,r=>a("option",{key:r,value:r},w(r),9,gt)),64)),mt],40,ft)]),a("section",null,[vt,a("p",null,[pt,kt,e.numberOfEndedYears===5?(u(),h("span",wt,"Trage im f\xFCnften Feld deine Pr\xFCfungsnote ein.")):I("",!0)]),(u(!0),h(O,null,E(e.examKurse,r=>(u(),h("div",{class:"kurs",key:r.name},[k(Z,{kurs:r,numberOfEndedYears:e.numberOfEndedYears},null,8,["kurs","numberOfEndedYears"])]))),128))]),a("section",null,[_t,yt,(u(!0),h(O,null,E(e.nonExamKurse,r=>(u(),h("div",{class:"kurs",key:r.name},[k(Z,{kurs:r,numberOfEndedYears:e.numberOfEndedYears},null,8,["kurs","numberOfEndedYears"])]))),128))]),a("section",null,[xt,e.numberOfEndedYears!==4?(u(),h("p",Ot,"Nicht belegte Halbjahre werden mit Hilfe des Durchschnitts der vorherigen Halbjahre ausgerechnet")):I("",!0),a("div",St,[a("button",{class:"btn-focus",onClick:t[1]||(t[1]=(...r)=>e.calculateAbischnitt&&e.calculateAbischnitt(...r))},"Abischnitt berechnen")]),e.schnitt.note!==null?(u(),h("div",Et,[a("p",null,"Block I: "+w(e.schnitt.block1),1),a("p",null,"Block II: "+w(e.schnitt.block2),1),a("p",null,"Block I + II: "+w(e.schnitt.block1+e.schnitt.block2),1),a("p",null,"Punktzahl: "+w(e.schnitt.punkte),1),a("div",jt,[a("h2",It,"Abinote: "+w(e.schnitt.note),1)])])):I("",!0)]),k(te,{isOpen:e.showModal,onClose:t[2]||(t[2]=r=>e.showModal=!e.showModal),title:e.modalTitle,content:e.modalContent,buttons:[]},null,8,["isOpen","title","content"])]))}});var Lt=H(At,[["__scopeId","data-v-2be8a802"]]);const Nt={class:"abirechner-container"},Gt={class:"selector"},Pt={inject:["mq"],data(){return{stage:"kurswahl",stages:[new R("Kurswahl","kurswahl"),new R("Abiturf\xE4cher","abif\xE4cher"),new R("Punkte","punkte")]}}},Dt=Object.assign(Pt,{__name:"Index",setup(n){return(e,t)=>(u(),h("div",Nt,[a("div",Gt,[k(we,{onSelect:t[0]||(t[0]=r=>{e.stage=r.key}),default:e.stage,items:e.stages},null,8,["default","items"])]),a("div",{class:N(["main",e.mq.current])},[e.stage==="kurswahl"?(u(),B(Hn,{key:0})):I("",!0),e.stage==="abif\xE4cher"?(u(),B(at,{key:1})):I("",!0),e.stage==="punkte"?(u(),B(Lt,{key:2})):I("",!0)],2)]))}});var Ht=H(Dt,[["__scopeId","data-v-6ae11bf8"]]);export{Ht as default};
